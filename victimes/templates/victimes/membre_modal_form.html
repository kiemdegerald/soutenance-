<div class="container-fluid">
    <div class="alert alert-info mb-4" style="border-radius: 12px; border: none; background: #dbeafe; color: #1e40af;">
        <i class="fas fa-info-circle me-2"></i>
        <strong>Famille créée avec succès !</strong> Ajoutez maintenant les membres de la famille. Vous pouvez ajouter plusieurs membres successivement.
    </div>
    
    <form id="membreForm" method="post" action="{% url 'membre_create_modal' famille_id %}">
        {% csrf_token %}
        
        <!-- Messages d'erreur -->
        {% if form.errors %}
            <div class="alert alert-danger" style="border-radius: 12px; border: none; background: #fee2e2; color: #991b1b;">
                <i class="fas fa-exclamation-triangle me-2"></i>
                Veuillez corriger les erreurs ci-dessous
            </div>
        {% endif %}
        
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label fw-semibold text-gray-700">
                    <i class="fas fa-user me-2 text-warning"></i>Nom
                </label>
                <input type="text" name="nom" class="form-control elegant-input" 
                       value="{{ form.nom.value|default:'' }}" required>
                {% if form.nom.errors %}
                    <div class="text-danger small mt-1">{{ form.nom.errors.0 }}</div>
                {% endif %}
            </div>
            
            <div class="col-md-6">
                <label class="form-label fw-semibold text-gray-700">
                    <i class="fas fa-user me-2 text-warning"></i>Prénom
                </label>
                <input type="text" name="prenom" class="form-control elegant-input" 
                       value="{{ form.prenom.value|default:'' }}" required>
                {% if form.prenom.errors %}
                    <div class="text-danger small mt-1">{{ form.prenom.errors.0 }}</div>
                {% endif %}
            </div>
            
            <div class="col-md-6">
                <label class="form-label fw-semibold text-gray-700">
                    <i class="fas fa-birthday-cake me-2 text-warning"></i>Date de naissance
                </label>
                <input type="date" name="date_naissance" class="form-control elegant-input" 
                       value="{{ form.date_naissance.value|default:'' }}" required>
                {% if form.date_naissance.errors %}
                    <div class="text-danger small mt-1">{{ form.date_naissance.errors.0 }}</div>
                {% endif %}
            </div>
            
            <div class="col-md-6">
                <label class="form-label fw-semibold text-gray-700">
                    <i class="fas fa-heart me-2 text-warning"></i>Lien de parenté
                </label>
                <select name="lien_parente" class="form-control elegant-input" required>
                    <option value="">Choisir le lien...</option>
                    <option value="Épouse">Épouse</option>
                    <option value="Époux">Époux</option>
                    <option value="Fils">Fils</option>
                    <option value="Fille">Fille</option>
                    <option value="Père">Père</option>
                    <option value="Mère">Mère</option>
                    <option value="Frère">Frère</option>
                    <option value="Sœur">Sœur</option>
                    <option value="Grand-père">Grand-père</option>
                    <option value="Grand-mère">Grand-mère</option>
                    <option value="Oncle">Oncle</option>
                    <option value="Tante">Tante</option>
                    <option value="Cousin">Cousin</option>
                    <option value="Cousine">Cousine</option>
                    <option value="Autre">Autre</option>
                </select>
                {% if form.lien_parente.errors %}
                    <div class="text-danger small mt-1">{{ form.lien_parente.errors.0 }}</div>
                {% endif %}
            </div>
        </div>
        
        <div class="d-flex justify-content-between align-items-center mt-4 pt-3 border-top">
            <button type="button" id="finishWorkflow" class="btn btn-outline-success px-4" 
                    style="border-radius: 10px; font-weight: 500;">
                <i class="fas fa-check me-2"></i>Terminer
            </button>
            
            <div class="d-flex gap-3">
                <button type="button" class="btn btn-light px-4" data-bs-dismiss="modal" 
                        style="border-radius: 10px; font-weight: 500;">
                    <i class="fas fa-times me-2"></i>Fermer
                </button>
                <button type="submit" class="btn btn-warning px-4" 
                        style="border-radius: 10px; font-weight: 500; background: linear-gradient(135deg, #f59e0b, #d97706); border: none; color: white;">
                    <i class="fas fa-plus me-2"></i>Ajouter ce membre
                </button>
            </div>
        </div>
    </form>
</div>

<style>
.elegant-input {
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 12px 16px;
    font-size: 14px;
    transition: all 0.3s ease;
    background: rgba(255,255,255,0.8);
}

.elegant-input:focus {
    border-color: #f59e0b;
    box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.1);
    outline: none;
    background: white;
    transform: translateY(-1px);
}

.form-label {
    color: #374151;
    margin-bottom: 8px;
    font-size: 14px;
}

.text-gray-700 {
    color: #374151;
}

.text-warning {
    color: #f59e0b;
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

select.elegant-input {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 16px;
    padding-right: 40px;
}
</style>
